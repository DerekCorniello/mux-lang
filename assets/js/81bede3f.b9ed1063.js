"use strict";(globalThis.webpackChunkmux_website=globalThis.webpackChunkmux_website||[]).push([[155],{6294(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"reference/statements","title":"Statements","description":"This document describes the semantics of each statement type in Mux.","source":"@site/docs/reference/statements.md","sourceDirName":"reference","slug":"/reference/statements","permalink":"/docs/reference/statements","draft":false,"unlisted":false,"editUrl":"https://github.com/derekcorniello/mux-lang/tree/main/mux-website/docs/reference/statements.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Expressions","permalink":"/docs/reference/expressions"},"next":{"title":"Operators","permalink":"/docs/reference/operators"}}');var s=t(4848),r=t(8453);const l={},a="Statements",c={},d=[{value:"Mutability",id:"mutability",level:2},{value:"Constant Declaration Statements",id:"constant-declaration-statements",level:2},{value:"Rules",id:"rules",level:3},{value:"If Statements",id:"if-statements",level:2},{value:"Semantics",id:"semantics",level:3},{value:"Scope Rules",id:"scope-rules",level:3},{value:"Match Statements",id:"match-statements",level:2},{value:"Semantics",id:"semantics-1",level:3},{value:"Patterns",id:"patterns",level:3},{value:"Examples",id:"examples",level:3},{value:"Exhaustiveness Checking",id:"exhaustiveness-checking",level:3},{value:"Guard Conditions",id:"guard-conditions",level:3},{value:"For Statements",id:"for-statements",level:2},{value:"Semantics",id:"semantics-2",level:3},{value:"Iteration Patterns",id:"iteration-patterns",level:3},{value:"Range Iteration",id:"range-iteration",level:3},{value:"While Statements",id:"while-statements",level:2},{value:"Semantics",id:"semantics-3",level:3},{value:"Condition Requirements",id:"condition-requirements",level:3},{value:"Break Statements",id:"break-statements",level:2},{value:"Semantics",id:"semantics-4",level:3},{value:"Continue Statements",id:"continue-statements",level:2},{value:"Semantics",id:"semantics-5",level:3},{value:"Return Statements",id:"return-statements",level:2},{value:"Semantics",id:"semantics-6",level:3},{value:"Value Return",id:"value-return",level:3},{value:"Void Return",id:"void-return",level:3},{value:"Early Returns",id:"early-returns",level:3},{value:"Cleanup on Return",id:"cleanup-on-return",level:3},{value:"See Also",id:"see-also",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"statements",children:"Statements"})}),"\n",(0,s.jsx)(n.p,{children:"This document describes the semantics of each statement type in Mux."}),"\n",(0,s.jsx)(n.h2,{id:"mutability",children:"Mutability"}),"\n",(0,s.jsx)(n.p,{children:"Variables are mutable by default:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"auto count = 0\ncount = count + 1   // OK: reassignment\ncount++              // OK: increment\n"})}),"\n",(0,s.jsxs)(n.p,{children:["To make a variable immutable, use ",(0,s.jsx)(n.code,{children:"const"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"const int MAX = 100\n// MAX = 200  // ERROR: cannot reassign const\n// MAX++      // ERROR: cannot modify const\n"})}),"\n",(0,s.jsx)(n.h2,{id:"constant-declaration-statements",children:"Constant Declaration Statements"}),"\n",(0,s.jsx)(n.h3,{id:"rules",children:"Rules"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Constants must be initialized at declaration"}),"\n",(0,s.jsx)(n.li,{children:"Constants cannot be reassigned"}),"\n",(0,s.jsx)(n.li,{children:"Constants cannot be used with increment/decrement operators"}),"\n",(0,s.jsxs)(n.li,{children:["Constants can be declared at:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Top-level (module scope)"}),"\n",(0,s.jsx)(n.li,{children:"Inside classes (class fields)"}),"\n",(0,s.jsx)(n.li,{children:"Inside functions (local constants)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"// Module-level constant\nconst int MAX_RETRIES = 3\n\n// Class constant\nclass Config {\n    const int MAX_SIZE = 1024\n}\n\n// Local constant\nfunc process() returns void {\n    const float TAX_RATE = 0.08\n    auto total = amount * TAX_RATE\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"if-statements",children:"If Statements"}),"\n",(0,s.jsx)(n.h3,{id:"semantics",children:"Semantics"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["The condition expression must evaluate to ",(0,s.jsx)(n.code,{children:"bool"})]}),"\n",(0,s.jsx)(n.li,{children:"Only the matched branch is executed"}),"\n",(0,s.jsx)(n.li,{children:"Each branch creates a new scope"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:'if x > 0 {\n    print("positive")\n} else if x < 0 {\n    print("negative")\n} else {\n    print("zero")\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"scope-rules",children:"Scope Rules"}),"\n",(0,s.jsx)(n.p,{children:"Variables declared in one branch are not accessible in other branches:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"if condition {\n    auto x = 1\n    // x is accessible here\n}\n// x is NOT accessible here\n"})}),"\n",(0,s.jsx)(n.h2,{id:"match-statements",children:"Match Statements"}),"\n",(0,s.jsx)(n.h3,{id:"semantics-1",children:"Semantics"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"The match expression is evaluated"}),"\n",(0,s.jsx)(n.li,{children:"Each arm is checked in order"}),"\n",(0,s.jsx)(n.li,{children:"The first matching arm (with optional guard) is executed"}),"\n",(0,s.jsx)(n.li,{children:"Exhaustiveness is checked at compile time"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"patterns",children:"Patterns"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Pattern"}),(0,s.jsx)(n.th,{children:"Meaning"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"_"})}),(0,s.jsx)(n.td,{children:"Wildcard (matches anything)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'_ { print("other") }'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Variant(value)"})}),(0,s.jsx)(n.td,{children:"Destructuring enum"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Some(v) { print(v) }"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Identifier"})}),(0,s.jsx)(n.td,{children:"Bind to variable"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Point(x, y) { ... }"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"value"})}),(0,s.jsx)(n.td,{children:"Literal match"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'0 { print("zero") }'})})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:'enum Option<T> {\n    Some(T)\n    None\n}\n\nmatch maybeValue {\n    Some(v) if v > 10 {\n        print("large: " + v)\n    }\n    Some(v) {\n        print("small: " + v)\n    }\n    None {\n        print("no value")\n    }\n    _ {\n        print("unexpected")\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"exhaustiveness-checking",children:"Exhaustiveness Checking"}),"\n",(0,s.jsx)(n.p,{children:"The compiler requires all cases to be covered:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:'enum Color { Red, Green, Blue }\n\nauto c = Color.Red\n\nmatch c {\n    Red { print("red") }\n    Green { print("green") }\n    // ERROR: Blue not covered\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"guard-conditions",children:"Guard Conditions"}),"\n",(0,s.jsxs)(n.p,{children:["Arms can have additional ",(0,s.jsx)(n.code,{children:"if"})," conditions:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:'match number {\n    n if n < 0 { print("negative") }\n    n if n == 0 { print("zero") }\n    n { print("positive: " + n) }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"for-statements",children:"For Statements"}),"\n",(0,s.jsx)(n.h3,{id:"semantics-2",children:"Semantics"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"The iterable expression is evaluated"}),"\n",(0,s.jsx)(n.li,{children:"Each element is bound to the pattern"}),"\n",(0,s.jsx)(n.li,{children:"The body is executed for each element"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"iteration-patterns",children:"Iteration Patterns"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"// Iterate over list\nfor int item in myList {\n    print(item)\n}\n\n// Ignore elements\nfor int _ in range(0, 10) {\n    doSomething()\n}\n\n// With explicit typing\nauto numbers = [1, 2, 3]\nfor int n in numbers {\n    // n is explicitly typed as int\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"range-iteration",children:"Range Iteration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"// range(start, end) - exclusive end\nfor int i in range(0, 5) {\n    print(i)  // 0, 1, 2, 3, 4\n}\n\n// Negative step not supported\n// Use while loop for complex iteration\n"})}),"\n",(0,s.jsx)(n.h2,{id:"while-statements",children:"While Statements"}),"\n",(0,s.jsx)(n.h3,{id:"semantics-3",children:"Semantics"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"The condition is evaluated"}),"\n",(0,s.jsx)(n.li,{children:"If true, the body is executed and the condition is checked again"}),"\n",(0,s.jsx)(n.li,{children:"If false, execution continues after the loop"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"auto count = 5\nwhile count > 0 {\n    print(count)\n    count = count - 1\n}\n// count is 0 here\n"})}),"\n",(0,s.jsx)(n.h3,{id:"condition-requirements",children:"Condition Requirements"}),"\n",(0,s.jsxs)(n.p,{children:["The condition must evaluate to ",(0,s.jsx)(n.code,{children:"bool"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"auto x = 1\nwhile x {  // ERROR: cannot convert int to bool\n    x--\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"break-statements",children:"Break Statements"}),"\n",(0,s.jsx)(n.h3,{id:"semantics-4",children:"Semantics"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Exits the immediately enclosing loop"}),"\n",(0,s.jsx)(n.li,{children:"Execution continues after the loop"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"for int i in range(0, 100) {\n    if i == 10 {\n        break  // Exit loop when i reaches 10\n    }\n    print(i)\n}\n// Execution continues here\n"})}),"\n",(0,s.jsx)(n.h2,{id:"continue-statements",children:"Continue Statements"}),"\n",(0,s.jsx)(n.h3,{id:"semantics-5",children:"Semantics"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Skips to the next iteration of the immediately enclosing loop"}),"\n",(0,s.jsx)(n.li,{children:"The loop condition is checked again"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"for int i in range(0, 10) {\n    if i % 2 == 0 {\n        continue  // Skip even numbers\n    }\n    print(i)  // Prints odd numbers: 1, 3, 5, 7, 9\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"return-statements",children:"Return Statements"}),"\n",(0,s.jsx)(n.h3,{id:"semantics-6",children:"Semantics"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Returns control from the current function"}),"\n",(0,s.jsx)(n.li,{children:"If a value is provided, it becomes the function's result"}),"\n",(0,s.jsxs)(n.li,{children:["If no value is provided, the function must have return type ",(0,s.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"value-return",children:"Value Return"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"func add(int a, int b) returns int {\n    return a + b\n}\n\nfunc max(int a, int b) returns int {\n    if a > b {\n        return a\n    }\n    return b\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"void-return",children:"Void Return"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:'func greet(string name) returns void {\n    print("Hello, " + name)\n    return  // Required in void functions\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"early-returns",children:"Early Returns"}),"\n",(0,s.jsx)(n.p,{children:"Returns can appear anywhere in a function:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mux",children:"func process(int value) returns int {\n    if value < 0 {\n        return 0  // Early return on invalid input\n    }\n    // Normal processing\n    return value * 2\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"cleanup-on-return",children:"Cleanup on Return"}),"\n",(0,s.jsx)(n.p,{children:"When a return executes:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"All variables in current scope are cleaned up (RC decremented)"}),"\n",(0,s.jsx)(n.li,{children:"Nested scopes are cleaned up in reverse order"}),"\n",(0,s.jsx)(n.li,{children:"Control transfers to the caller"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/reference/expressions",children:"Expressions"})," - Expression evaluation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/language-guide/control-flow",children:"Control Flow"})," - Control flow guide"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453(e,n,t){t.d(n,{R:()=>l,x:()=>a});var i=t(6540);const s={},r=i.createContext(s);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);