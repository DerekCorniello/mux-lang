"use strict";(globalThis.webpackChunkmux_website=globalThis.webpackChunkmux_website||[]).push([[346],{3673(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"language-guide/modules","title":"Modules and Imports","description":"Mux uses Python-style imports for code organization and reuse.","source":"@site/docs/language-guide/modules.md","sourceDirName":"language-guide","slug":"/language-guide/modules","permalink":"/docs/language-guide/modules","draft":false,"unlisted":false,"editUrl":"https://github.com/derekcorniello/mux-lang/tree/main/mux-website/docs/language-guide/modules.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Memory Management","permalink":"/docs/language-guide/memory"},"next":{"title":"Design Philosophy","permalink":"/docs/design-notes/philosophy"}}');var l=i(4848),s=i(8453);const r={},a="Modules and Imports",o={},c=[{value:"Basic Import Syntax",id:"basic-import-syntax",level:2},{value:"Module Resolution",id:"module-resolution",level:2},{value:"Using Imports",id:"using-imports",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Aliased Imports",id:"aliased-imports",level:3},{value:"Imports for Side Effects",id:"imports-for-side-effects",level:3},{value:"Name Mangling",id:"name-mangling",level:2},{value:"Module Initialization",id:"module-initialization",level:2},{value:"Dependency Resolution",id:"dependency-resolution",level:2},{value:"Module Scope",id:"module-scope",level:2},{value:"Public by Default",id:"public-by-default",level:3},{value:"Module-Level Variables",id:"module-level-variables",level:3},{value:"Circular Dependencies",id:"circular-dependencies",level:2},{value:"Common Module Patterns",id:"common-module-patterns",level:2},{value:"Utility Module",id:"utility-module",level:3},{value:"Type Module",id:"type-module",level:3},{value:"Constants Module",id:"constants-module",level:3},{value:"Module Organization",id:"module-organization",level:2},{value:"Flat Structure",id:"flat-structure",level:3},{value:"Hierarchical Structure",id:"hierarchical-structure",level:3},{value:"Import Best Practices",id:"import-best-practices",level:2},{value:"Example Project",id:"example-project",level:2},{value:"Technical Implementation",id:"technical-implementation",level:2},{value:"Module Compilation",id:"module-compilation",level:3},{value:"Name Mangling Details",id:"name-mangling-details",level:3},{value:"See Also",id:"see-also",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"modules-and-imports",children:"Modules and Imports"})}),"\n",(0,l.jsx)(n.p,{children:"Mux uses Python-style imports for code organization and reuse."}),"\n",(0,l.jsx)(n.h2,{id:"basic-import-syntax",children:"Basic Import Syntax"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="basic_import.mux"',children:"import math\nimport shapes.circle\nimport utils.logger as log\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Python-style imports only"}),"\n",(0,l.jsx)(n.li,{children:"Module paths map directly to file paths"}),"\n",(0,l.jsx)(n.li,{children:"Imported symbols can be used immediately"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"module-resolution",children:"Module Resolution"}),"\n",(0,l.jsx)(n.p,{children:"Module paths map to file paths:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="module_resolution.mux"',children:"import math          // math.mux in same directory\nimport shapes.circle // shapes/circle.mux\nimport lib.core.util // lib/core/util.mux\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"File Structure:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"project/\n\u251c\u2500\u2500 main.mux\n\u251c\u2500\u2500 math.mux\n\u251c\u2500\u2500 shapes/\n\u2502   \u251c\u2500\u2500 circle.mux\n\u2502   \u2514\u2500\u2500 rectangle.mux\n\u2514\u2500\u2500 lib/\n    \u2514\u2500\u2500 core/\n        \u2514\u2500\u2500 util.mux\n"})}),"\n",(0,l.jsx)(n.h2,{id:"using-imports",children:"Using Imports"}),"\n",(0,l.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="math_module.mux"',children:"// math.mux\nfunc add(int a, int b) returns int {\n    return a + b\n}\n\nfunc multiply(int a, int b) returns int {\n    return a * b\n}\n\nconst float PI = 3.14159\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="main_import.mux"',children:"// main.mux\nimport math\n\nfunc main() returns void {\n    auto sum = math.add(5, 3)\n    auto product = math.multiply(4, 7)\n    auto circumference = 2.0 * math.PI * 5.0\n    \n    print(sum.to_string())\n    print(product.to_string())\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"aliased-imports",children:"Aliased Imports"}),"\n",(0,l.jsxs)(n.p,{children:["Use ",(0,l.jsx)(n.code,{children:"as"})," to rename imported modules:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="aliased_imports.mux"',children:'import shapes.circle as circle\nimport utils.logger as log\n\nfunc main() returns void {\n    auto c = circle.new(5.0)\n    log.info("Created circle")\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"imports-for-side-effects",children:"Imports for Side Effects"}),"\n",(0,l.jsxs)(n.p,{children:["Use ",(0,l.jsx)(n.code,{children:"_"})," when importing only for side effects:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="side_effect_import.mux"',children:"import utils.logger as _  // imported but not directly used\n"})}),"\n",(0,l.jsx)(n.h2,{id:"name-mangling",children:"Name Mangling"}),"\n",(0,l.jsx)(n.p,{children:"Functions from imported modules use mangled names to prevent conflicts:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="fibonacci_module.mux"',children:"// math.mux\nfunc fibonacci(int n) returns int {\n    if n <= 1 {\n        return n\n    }\n    return fibonacci(n - 1) + fibonacci(n - 2)\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="using_imported_func.mux"',children:"// main.mux\nimport math\n\nfunc main() returns void {\n    auto result = math.fibonacci(10)  // Calls math_fibonacci\n    print(result.to_string())\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Generates LLVM function: ",(0,l.jsx)(n.code,{children:"math_fibonacci"})," (not just ",(0,l.jsx)(n.code,{children:"fibonacci"}),")"]}),"\n",(0,l.jsx)(n.p,{children:"This prevents conflicts when multiple modules define functions with the same name."}),"\n",(0,l.jsx)(n.h2,{id:"module-initialization",children:"Module Initialization"}),"\n",(0,l.jsx)(n.p,{children:"Top-level statements in modules become initialization functions:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="module_init.mux"',children:'// config.mux\nconst int MAX_USERS = 100\nauto initialized = false\n\nfunc initialize() returns void {\n    initialized = true\n    print("Config initialized")\n}\n\n// Top-level code runs on import\nprint("Loading config module...")\ninitialize()\n'})}),"\n",(0,l.jsx)(n.p,{children:"The compiler:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Generates a module init function"}),"\n",(0,l.jsxs)(n.li,{children:["Calls it before ",(0,l.jsx)(n.code,{children:"main()"})," executes"]}),"\n",(0,l.jsx)(n.li,{children:"Ensures each module initializes only once"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"dependency-resolution",children:"Dependency Resolution"}),"\n",(0,l.jsx)(n.p,{children:"The compiler processes modules in dependency order:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="module_a.mux"',children:"// a.mux\nimport b\n\nfunc useB() returns void {\n    b.doSomething()\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="module_b.mux"',children:"// b.mux\nimport c\n\nfunc doSomething() returns void {\n    c.helper()\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="module_c.mux"',children:'// c.mux\nfunc helper() returns void {\n    print("helper called")\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["Initialization order: ",(0,l.jsx)(n.code,{children:"c"})," \u2192 ",(0,l.jsx)(n.code,{children:"b"})," \u2192 ",(0,l.jsx)(n.code,{children:"a"})," \u2192 ",(0,l.jsx)(n.code,{children:"main"})]}),"\n",(0,l.jsx)(n.h2,{id:"module-scope",children:"Module Scope"}),"\n",(0,l.jsx)(n.h3,{id:"public-by-default",children:"Public by Default"}),"\n",(0,l.jsx)(n.p,{children:"All functions and types are public by default:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="public_module.mux"',children:"// math.mux\nfunc add(int a, int b) returns int {  // Public\n    return a + b\n}\n\nconst float PI = 3.14159  // Public\n"})}),"\n",(0,l.jsx)(n.h3,{id:"module-level-variables",children:"Module-Level Variables"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="module_variables.mux"',children:'// config.mux\nconst string VERSION = "1.0.0"\nauto request_count = 0\n\nfunc increment_requests() returns void {\n    request_count++\n}\n\nfunc get_request_count() returns int {\n    return request_count\n}\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="using_module_vars.mux"',children:'// main.mux\nimport config\n\nfunc main() returns void {\n    print("Version: " + config.VERSION)\n    config.increment_requests()\n    print(config.get_request_count().to_string())\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"circular-dependencies",children:"Circular Dependencies"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Warning:"})," Avoid circular imports:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="circular_a.mux"',children:"// a.mux\nimport b  // ERROR: a imports b, b imports a\n\nfunc useB() returns void {\n    b.doSomething()\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="circular_b.mux"',children:"// b.mux\nimport a  // ERROR: circular dependency\n\nfunc doSomething() returns void {\n    a.useB()\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solution:"})," Restructure to remove circular dependencies or extract shared code to a third module."]}),"\n",(0,l.jsx)(n.h2,{id:"common-module-patterns",children:"Common Module Patterns"}),"\n",(0,l.jsx)(n.h3,{id:"utility-module",children:"Utility Module"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="utility_module.mux"',children:"// utils.mux\nfunc max(int a, int b) returns int {\n    if a > b {\n        return a\n    }\n    return b\n}\n\nfunc min(int a, int b) returns int {\n    if a < b {\n        return a\n    }\n    return b\n}\n\nfunc clamp(int value, int low, int high) returns int {\n    if value < low {\n        return low\n    }\n    if value > high {\n        return high\n    }\n    return value\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"type-module",children:"Type Module"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="type_module.mux"',children:"// types.mux\nclass Point {\n    int x\n    int y\n    \n    func distance_to(Point other) returns float {\n        auto dx = self.x - other.x\n        auto dy = self.y - other.y\n        auto sum = dx * dx + dy * dy\n        return sum.to_float()  // Simplified, needs sqrt\n    }\n}\n\nenum Color {\n    Red\n    Green\n    Blue\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"constants-module",children:"Constants Module"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="constants_module.mux"',children:'// constants.mux\nconst int MAX_CONNECTIONS = 100\nconst float TIMEOUT_SECONDS = 30.0\nconst string API_VERSION = "v2"\nconst bool DEBUG_MODE = true\n'})}),"\n",(0,l.jsx)(n.h2,{id:"module-organization",children:"Module Organization"}),"\n",(0,l.jsx)(n.h3,{id:"flat-structure",children:"Flat Structure"}),"\n",(0,l.jsx)(n.p,{children:"For small projects:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"project/\n\u251c\u2500\u2500 main.mux\n\u251c\u2500\u2500 math.mux\n\u251c\u2500\u2500 utils.mux\n\u2514\u2500\u2500 constants.mux\n"})}),"\n",(0,l.jsx)(n.h3,{id:"hierarchical-structure",children:"Hierarchical Structure"}),"\n",(0,l.jsx)(n.p,{children:"For larger projects:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"project/\n\u251c\u2500\u2500 main.mux\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 core/\n\u2502   \u2502   \u251c\u2500\u2500 math.mux\n\u2502   \u2502   \u2514\u2500\u2500 utils.mux\n\u2502   \u251c\u2500\u2500 data/\n\u2502   \u2502   \u251c\u2500\u2500 parser.mux\n\u2502   \u2502   \u2514\u2500\u2500 validator.mux\n\u2502   \u2514\u2500\u2500 net/\n\u2502       \u251c\u2500\u2500 http.mux\n\u2502       \u2514\u2500\u2500 tcp.mux\n\u2514\u2500\u2500 config/\n    \u2514\u2500\u2500 settings.mux\n"})}),"\n",(0,l.jsx)(n.h2,{id:"import-best-practices",children:"Import Best Practices"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Import at the top"})," - All imports at file beginning"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Avoid circular dependencies"})," - Restructure if needed"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use descriptive module names"})," - ",(0,l.jsx)(n.code,{children:"math"})," not ",(0,l.jsx)(n.code,{children:"m"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Alias long names"})," - ",(0,l.jsx)(n.code,{children:"import very.long.module.path as path"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Group related functions"})," - Put related utilities in same module"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"One module per file"})," - Keep file structure simple"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Document public APIs"})," - Comment exported functions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Avoid deep nesting"})," - Keep module hierarchy shallow"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"example-project",children:"Example Project"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"calculator/\n\u251c\u2500\u2500 main.mux\n\u251c\u2500\u2500 operations/\n\u2502   \u251c\u2500\u2500 basic.mux\n\u2502   \u2514\u2500\u2500 advanced.mux\n\u2514\u2500\u2500 utils/\n    \u2514\u2500\u2500 format.mux\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="basic_operations.mux"',children:"// operations/basic.mux\nfunc add(int a, int b) returns int {\n    return a + b\n}\n\nfunc subtract(int a, int b) returns int {\n    return a - b\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="advanced_operations.mux"',children:"// operations/advanced.mux\nfunc power(int base, int exp) returns int {\n    auto result = 1\n    for _ in range(0, exp) {\n        result = result * base\n    }\n    return result\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="format_module.mux"',children:'// utils/format.mux\nfunc format_result(int value) returns string {\n    return "Result: " + value.to_string()\n}\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="calculator_main.mux"',children:"// main.mux\nimport operations.basic as basic\nimport operations.advanced as advanced\nimport utils.format as fmt\n\nfunc main() returns void {\n    auto sum = basic.add(5, 3)\n    print(fmt.format_result(sum))\n    \n    auto powered = advanced.power(2, 10)\n    print(fmt.format_result(powered))\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"technical-implementation",children:"Technical Implementation"}),"\n",(0,l.jsx)(n.h3,{id:"module-compilation",children:"Module Compilation"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Parse imports"})," - Extract all import statements"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Build dependency graph"})," - Determine module order"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Process modules"})," - Parse and analyze in topological order"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Generate init functions"})," - Create module initialization code"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Link modules"})," - Combine into final executable"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"name-mangling-details",children:"Name Mangling Details"}),"\n",(0,l.jsx)(n.p,{children:"Module functions are prefixed with their module path:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mux",metastring:'title="shapes_circle.mux"',children:"// shapes/circle.mux\nfunc area(float radius) returns float {\n    return 3.14159 * radius * radius\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Generates: ",(0,l.jsx)(n.code,{children:"shapes_circle_area"})," (module path becomes prefix)"]}),"\n",(0,l.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/language-guide/functions",children:"Functions"})," - Function definitions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/language-guide/classes",children:"Classes"})," - Type definitions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/language-guide/variables",children:"Variables"})," - Module-level constants and variables"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>r,x:()=>a});var t=i(6540);const l={},s=t.createContext(l);function r(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);