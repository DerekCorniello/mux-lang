---
source: mux-compiler/tests/parser_integration.rs
assertion_line: 83
expression: ast_string
---
"Class {\n    name: \"MyInt\",\n    type_params: [],\n    traits: [],\n    fields: [\n        Field {\n            name: \"val\",\n            type_: TypeNode {\n                kind: Primitive(\n                    Int,\n                ),\n                span: Span {\n                    row_start: 2,\n                    row_end: Some(\n                        2,\n                    ),\n                    col_start: 5,\n                    col_end: Some(\n                        8,\n                    ),\n                },\n            },\n        },\n    ],\n    methods: [\n        FunctionNode {\n            name: \"to_string\",\n            type_params: [],\n            params: [],\n            return_type: TypeNode {\n                kind: Primitive(\n                    Str,\n                ),\n                span: Span {\n                    row_start: 3,\n                    row_end: Some(\n                        3,\n                    ),\n                    col_start: 30,\n                    col_end: Some(\n                        36,\n                    ),\n                },\n            },\n            body: [\n                StatementNode {\n                    kind: Return(\n                        Some(\n                            ExpressionNode {\n                                kind: Binary {\n                                    left: ExpressionNode {\n                                        kind: Literal(\n                                            String(\n                                                \"MyInt of \",\n                                            ),\n                                        ),\n                                        span: Span {\n                                            row_start: 4,\n                                            row_end: Some(\n                                                4,\n                                            ),\n                                            col_start: 16,\n                                            col_end: Some(\n                                                27,\n                                            ),\n                                        },\n                                    },\n                                    op: Add,\n                                    right: ExpressionNode {\n                                        kind: Call {\n                                            func: ExpressionNode {\n                                                kind: FieldAccess {\n                                                    expr: ExpressionNode {\n                                                        kind: FieldAccess {\n                                                            expr: ExpressionNode {\n                                                                kind: Identifier(\n                                                                    \"self\",\n                                                                ),\n                                                                span: Span {\n                                                                    row_start: 4,\n                                                                    row_end: Some(\n                                                                        4,\n                                                                    ),\n                                                                    col_start: 30,\n                                                                    col_end: Some(\n                                                                        34,\n                                                                    ),\n                                                                },\n                                                            },\n                                                            field: \"val\",\n                                                        },\n                                                        span: Span {\n                                                            row_start: 4,\n                                                            row_end: Some(\n                                                                4,\n                                                            ),\n                                                            col_start: 30,\n                                                            col_end: Some(\n                                                                38,\n                                                            ),\n                                                        },\n                                                    },\n                                                    field: \"to_string\",\n                                                },\n                                                span: Span {\n                                                    row_start: 4,\n                                                    row_end: Some(\n                                                        4,\n                                                    ),\n                                                    col_start: 30,\n                                                    col_end: Some(\n                                                        48,\n                                                    ),\n                                                },\n                                            },\n                                            args: [],\n                                        },\n                                        span: Span {\n                                            row_start: 4,\n                                            row_end: Some(\n                                                4,\n                                            ),\n                                            col_start: 30,\n                                            col_end: Some(\n                                                48,\n                                            ),\n                                        },\n                                    },\n                                },\n                                span: Span {\n                                    row_start: 4,\n                                    row_end: Some(\n                                        4,\n                                    ),\n                                    col_start: 16,\n                                    col_end: Some(\n                                        48,\n                                    ),\n                                },\n                            },\n                        ),\n                    ),\n                    span: Span {\n                        row_start: 4,\n                        row_end: Some(\n                            4,\n                        ),\n                        col_start: 16,\n                        col_end: Some(\n                            48,\n                        ),\n                    },\n                },\n            ],\n            span: Span {\n                row_start: 3,\n                row_end: Some(\n                    4,\n                ),\n                col_start: 5,\n                col_end: Some(\n                    48,\n                ),\n            },\n            is_common: false,\n        },\n    ],\n    span: Span {\n        row_start: 1,\n        row_end: Some(\n            1,\n        ),\n        col_start: 1,\n        col_end: Some(\n            6,\n        ),\n    },\n}\n\nStatement(\n    StatementNode {\n        kind: AutoDecl(\n            \"test\",\n            TypeNode {\n                kind: Auto,\n                span: Span {\n                    row_start: 8,\n                    row_end: Some(\n                        8,\n                    ),\n                    col_start: 6,\n                    col_end: Some(\n                        10,\n                    ),\n                },\n            },\n            ExpressionNode {\n                kind: Call {\n                    func: ExpressionNode {\n                        kind: FieldAccess {\n                            expr: ExpressionNode {\n                                kind: Identifier(\n                                    \"MyInt\",\n                                ),\n                                span: Span {\n                                    row_start: 8,\n                                    row_end: Some(\n                                        8,\n                                    ),\n                                    col_start: 13,\n                                    col_end: Some(\n                                        18,\n                                    ),\n                                },\n                            },\n                            field: \"new\",\n                        },\n                        span: Span {\n                            row_start: 8,\n                            row_end: Some(\n                                8,\n                            ),\n                            col_start: 13,\n                            col_end: Some(\n                                22,\n                            ),\n                        },\n                    },\n                    args: [],\n                },\n                span: Span {\n                    row_start: 8,\n                    row_end: Some(\n                        8,\n                    ),\n                    col_start: 13,\n                    col_end: Some(\n                        22,\n                    ),\n                },\n            },\n        ),\n        span: Span {\n            row_start: 8,\n            row_end: Some(\n                8,\n            ),\n            col_start: 1,\n            col_end: Some(\n                22,\n            ),\n        },\n    },\n)\n\nStatement(\n    StatementNode {\n        kind: Expression(\n            ExpressionNode {\n                kind: Binary {\n                    left: ExpressionNode {\n                        kind: FieldAccess {\n                            expr: ExpressionNode {\n                                kind: Identifier(\n                                    \"test\",\n                                ),\n                                span: Span {\n                                    row_start: 9,\n                                    row_end: Some(\n                                        9,\n                                    ),\n                                    col_start: 1,\n                                    col_end: Some(\n                                        5,\n                                    ),\n                                },\n                            },\n                            field: \"val\",\n                        },\n                        span: Span {\n                            row_start: 9,\n                            row_end: Some(\n                                9,\n                            ),\n                            col_start: 1,\n                            col_end: Some(\n                                9,\n                            ),\n                        },\n                    },\n                    op: Assign,\n                    right: ExpressionNode {\n                        kind: Literal(\n                            Integer(\n                                1,\n                            ),\n                        ),\n                        span: Span {\n                            row_start: 9,\n                            row_end: Some(\n                                9,\n                            ),\n                            col_start: 12,\n                            col_end: Some(\n                                13,\n                            ),\n                        },\n                    },\n                },\n                span: Span {\n                    row_start: 9,\n                    row_end: Some(\n                        9,\n                    ),\n                    col_start: 1,\n                    col_end: Some(\n                        13,\n                    ),\n                },\n            },\n        ),\n        span: Span {\n            row_start: 9,\n            row_end: Some(\n                9,\n            ),\n            col_start: 1,\n            col_end: Some(\n                13,\n            ),\n        },\n    },\n)\n\nStatement(\n    StatementNode {\n        kind: Expression(\n            ExpressionNode {\n                kind: Call {\n                    func: ExpressionNode {\n                        kind: Identifier(\n                            \"println\",\n                        ),\n                        span: Span {\n                            row_start: 10,\n                            row_end: Some(\n                                10,\n                            ),\n                            col_start: 1,\n                            col_end: Some(\n                                8,\n                            ),\n                        },\n                    },\n                    args: [\n                        ExpressionNode {\n                            kind: Binary {\n                                left: ExpressionNode {\n                                    kind: Literal(\n                                        String(\n                                            \"test.val: \",\n                                        ),\n                                    ),\n                                    span: Span {\n                                        row_start: 10,\n                                        row_end: Some(\n                                            10,\n                                        ),\n                                        col_start: 9,\n                                        col_end: Some(\n                                            21,\n                                        ),\n                                    },\n                                },\n                                op: Add,\n                                right: ExpressionNode {\n                                    kind: Call {\n                                        func: ExpressionNode {\n                                            kind: FieldAccess {\n                                                expr: ExpressionNode {\n                                                    kind: FieldAccess {\n                                                        expr: ExpressionNode {\n                                                            kind: Identifier(\n                                                                \"test\",\n                                                            ),\n                                                            span: Span {\n                                                                row_start: 10,\n                                                                row_end: Some(\n                                                                    10,\n                                                                ),\n                                                                col_start: 24,\n                                                                col_end: Some(\n                                                                    28,\n                                                                ),\n                                                            },\n                                                        },\n                                                        field: \"val\",\n                                                    },\n                                                    span: Span {\n                                                        row_start: 10,\n                                                        row_end: Some(\n                                                            10,\n                                                        ),\n                                                        col_start: 24,\n                                                        col_end: Some(\n                                                            32,\n                                                        ),\n                                                    },\n                                                },\n                                                field: \"to_string\",\n                                            },\n                                            span: Span {\n                                                row_start: 10,\n                                                row_end: Some(\n                                                    10,\n                                                ),\n                                                col_start: 24,\n                                                col_end: Some(\n                                                    42,\n                                                ),\n                                            },\n                                        },\n                                        args: [],\n                                    },\n                                    span: Span {\n                                        row_start: 10,\n                                        row_end: Some(\n                                            10,\n                                        ),\n                                        col_start: 24,\n                                        col_end: Some(\n                                            42,\n                                        ),\n                                    },\n                                },\n                            },\n                            span: Span {\n                                row_start: 10,\n                                row_end: Some(\n                                    10,\n                                ),\n                                col_start: 9,\n                                col_end: Some(\n                                    42,\n                                ),\n                            },\n                        },\n                    ],\n                },\n                span: Span {\n                    row_start: 10,\n                    row_end: Some(\n                        10,\n                    ),\n                    col_start: 1,\n                    col_end: Some(\n                        8,\n                    ),\n                },\n            },\n        ),\n        span: Span {\n            row_start: 10,\n            row_end: Some(\n                10,\n            ),\n            col_start: 1,\n            col_end: Some(\n                8,\n            ),\n        },\n    },\n)\n\nStatement(\n    StatementNode {\n        kind: Expression(\n            ExpressionNode {\n                kind: Call {\n                    func: ExpressionNode {\n                        kind: Identifier(\n                            \"println\",\n                        ),\n                        span: Span {\n                            row_start: 11,\n                            row_end: Some(\n                                11,\n                            ),\n                            col_start: 1,\n                            col_end: Some(\n                                8,\n                            ),\n                        },\n                    },\n                    args: [\n                        ExpressionNode {\n                            kind: Call {\n                                func: ExpressionNode {\n                                    kind: FieldAccess {\n                                        expr: ExpressionNode {\n                                            kind: Identifier(\n                                                \"test\",\n                                            ),\n                                            span: Span {\n                                                row_start: 11,\n                                                row_end: Some(\n                                                    11,\n                                                ),\n                                                col_start: 9,\n                                                col_end: Some(\n                                                    13,\n                                                ),\n                                            },\n                                        },\n                                        field: \"to_string\",\n                                    },\n                                    span: Span {\n                                        row_start: 11,\n                                        row_end: Some(\n                                            11,\n                                        ),\n                                        col_start: 9,\n                                        col_end: Some(\n                                            23,\n                                        ),\n                                    },\n                                },\n                                args: [],\n                            },\n                            span: Span {\n                                row_start: 11,\n                                row_end: Some(\n                                    11,\n                                ),\n                                col_start: 9,\n                                col_end: Some(\n                                    23,\n                                ),\n                            },\n                        },\n                    ],\n                },\n                span: Span {\n                    row_start: 11,\n                    row_end: Some(\n                        11,\n                    ),\n                    col_start: 1,\n                    col_end: Some(\n                        8,\n                    ),\n                },\n            },\n        ),\n        span: Span {\n            row_start: 11,\n            row_end: Some(\n                11,\n            ),\n            col_start: 1,\n            col_end: Some(\n                8,\n            ),\n        },\n    },\n)\n\n"
