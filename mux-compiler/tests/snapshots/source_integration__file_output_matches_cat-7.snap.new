---
source: mux-compiler/tests/source_integration.rs
assertion_line: 28
expression: "format!(\"{:#?}\", expected)"
---
"// Generics func\nfunc max<T>(T a, T b) returns T { \n    if a > b { \n        return a\n    }\n    return b \n}\n\nfunc hello<T>(T s) returns void {\n    println(\"hello \" + s.to_string())\n}\n\nfunc name<T>(T s) returns string {\n    return \"hi im \" + s.to_string()\n}\n\nclass Stack<T> {\n    list<T> items\n    func push(T item) returns void { self.items.push_back(item) }\n    func pop() returns Optional<T> {\n        if self.items.is_empty() { return None }\n        return self.items.pop_back()\n    }\n    common func who_am_i() returns string {\n        return \"im a stack!\"\n    }\n\n    common func from(list<T> init_list) returns Stack<T> {\n        auto new_stack = Stack<T>.new()\n        println(\"init new obj\")\n        new_stack.items = init_list\n        println(\"init items\")\n        return new_stack\n    }\n    func to_string() returns string {\n        return \"Stack with: \" + self.items.to_string()\n    }\n}\n\nauto s = Stack<int>.new()\ns.push(42)\nmatch s.pop() {\n    Some(v) { println(\"Popped: \" + v.to_string()) }\n    None { println(\"Empty stack\") }\n}\nprintln(Stack.who_am_i())\nprintln(\"trying to instantiate stack\")\nauto test = Stack<int>.from([1,2,3])\nprintln(\"instantiated stack\")\nprintln(\"stack has: \" + test.items.to_string())\nprintln(test.to_string())\n\nprintln(\"max of 1 and 2 is: \" + max(1, 2).to_string())\nprintln(\"max of -1 and -2 is: \" + max(-1, -2).to_string())\nprintln(name(\"derek\"))\nprintln(name(123))\nhello(\"derek\")\nhello(123)\nprintln(\"generics ran successfully\")\n\n"
