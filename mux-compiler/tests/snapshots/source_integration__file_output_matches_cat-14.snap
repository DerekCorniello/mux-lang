---
source: mux-compiler/tests/source_integration.rs
expression: "format!(\"{:#?}\", expected)"
---
"// Generics func\nfunc max<T>(T a, T b) returns T { \n    if a > b { \n        return a\n    }\n    return b \n}\n\nfunc hello<T>(T s) returns void {\n    print(\"hello \" + s.to_string())\n}\n\nfunc name<T>(T s) returns string {\n    return \"hi im \" + s.to_string()\n}\n\nclass Stack<T> {\n    list<T> items\n    func push(T item) returns void { self.items.push_back(item) }\n    func pop() returns Optional<T> {\n        if self.items.is_empty() { return None }\n        return self.items.pop_back()\n    }\n    common func who_am_i() returns string {\n        return \"im a stack!\"\n    }\n\n    common func from(list<T> init_list) returns Stack<T> {\n        auto new_stack = Stack<T>.new()\n        print(\"init new obj\")\n        new_stack.items = init_list\n        print(\"init items\")\n        return new_stack\n    }\n    func to_string() returns string {\n        return \"Stack with: \" + self.items.to_string()\n    }\n}\n\nauto s = Stack<int>.new()\ns.push(42)\nmatch s.pop() {\n    Some(v) { print(\"Popped: \" + v.to_string()) }\n    None { print(\"Empty stack\") }\n}\nprint(Stack.who_am_i())\nprint(\"trying to instantiate stack\")\nauto test = Stack<int>.from([1,2,3])\nprint(\"instantiated stack\")\nprint(\"stack has: \" + test.items.to_string())\nprint(test.to_string())\n\nprint(\"max of 1 and 2 is: \" + max(1, 2).to_string())\nprint(\"max of -1 and -2 is: \" + max(-1, -2).to_string())\nprint(name(\"derek\"))\nprint(name(123))\nhello(\"derek\")\nhello(123)\nprint(\"generics ran successfully\")\n\n"
