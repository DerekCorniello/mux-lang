---
source: mux-compiler/tests/source_integration.rs
expression: "format!(\"{:#?}\", expected)"
---
"func my_map<T, U>(list<T> items, func(T) returns U transform) returns list<U> {\n    list<U> out = []\n    for T item in items { \n        auto transformed = transform(item)\n        println(\"transformed ok\")\n        out.push_back(transformed)\n        println(\"pushed\")\n    }\n    return out\n}\n\nfunc int_map(list<int> items, func(int) returns int transform) returns list<int> {\n    list<int> out = []\n    for int item in items { out.push_back(transform(item)) }\n    return out\n}\n\nauto int_doubles = func(int x) returns int { return x * 2 }\nauto int_my_list = [1, 2, 3]\nauto int_doubled = int_map(int_my_list, int_doubles)\nprintln(\"res: \" + int_doubled.to_string())\n\nauto doubles = func(int x) returns int { return x * 2 }\nauto my_list = [1, 2, 3]\nauto doubled = my_map(my_list, doubles)\nprintln(\"res: \" + doubled.to_string())\nprintln(\"done!\")\n"
