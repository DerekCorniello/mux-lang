---
source: mux-compiler/tests/source_integration.rs
expression: "format!(\"{:#?}\", expected)"
---
"// Generics\nfunc max<T is comparable>(T a, T b) returns T { \n    if a > b { \n        return a\n    }\n    return b \n}\n\nclass Stack<T> {\n    list<T> items\n    func push(T item) returns void { items.push_back(item) }\n    func pop() returns Optional<T> {\n        if items.is_empty() { return None }\n        return items.pop_back()\n    }\n    common func who_am_i() returns string {\n        return \"im a stack!\"\n    }\n\n    common func from<T>(list<T> init_list) returns Stack<T> {\n        auto new_stack = Stack<T>.new()\n        println(\"init new obj\")\n        new_stack.items = init_list\n        println(\"init items\")\n        return new_stack\n    }\n    func to_string() returns string {\n        return \"Stack with: \" + self.items.to_string()\n    }\n}\n\nauto s = Stack<int>.new()\ns.push(42)\nmatch s.pop() {\n    Some(v) { println(\"Popped: \" + v.to_string()) }\n    None { println(\"Empty stack\") }\n}\nprintln(Stack.who_am_i())\nprintln(\"trying to instantiate stack\")\nauto test = Stack<int>.from([1,2,3])\nprintln(\"instantiated stack\")\nprintln(\"stack has: \" + test.items)\nprintln(test.to_string())\n"
